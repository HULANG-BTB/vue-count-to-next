!function(e,a){"object"==typeof exports&&"undefined"!=typeof module?a(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],a):a((e="undefined"!=typeof globalThis?globalThis:e||self).VueCountTo={},e.vue)}(this,(function(e,a){"use strict";let t=0;const l=["webkit","moz","ms","o"];let n,r;if("undefined"==typeof window)n=function(){},r=function(){};else{let e;n=window.requestAnimationFrame,r=window.cancelAnimationFrame;for(let a=0;a<l.length&&(!n||!r);a++)e=l[a],n=n||window[e+"RequestAnimationFrame"],r=r||window[e+"CancelAnimationFrame"]||window[e+"CancelRequestAnimationFrame"];n&&r||(n=function(e){const a=(new Date).getTime(),l=Math.max(0,16-(a-t)),n=window.setTimeout((()=>{e(a+l)}),l);return t=a+l,n},r=function(e){window.clearTimeout(e)})}var i=a.defineComponent({name:"CountTo",emits:["mountedCallback","callback"],props:{startVal:{type:Number,required:!1,default:0},endVal:{type:Number,required:!1,default:2017},duration:{type:Number,required:!1,default:3e3},autoplay:{type:Boolean,required:!1,default:!0},decimal:{type:String,required:!1,default:"."},decimals:{type:Number,required:!1,default:0,validator:e=>e>=0},separator:{type:String,required:!1,default:","},prefix:{type:String,required:!1,default:""},suffix:{type:String,required:!1,default:""},useEasing:{type:Boolean,required:!1,default:!0},easingFn:{type:Function}},setup(e,t){const l=e.easingFn||((e,a,t,l)=>t*(1-Math.pow(2,-10*e/l))*1024/1023+a),i=(a=0,t=0)=>{const l=a.toFixed(t).split(".");let n=l[0];const r=l.length>1?e.decimal+l[1]:"",i=/(\d+)(\d{3})/;if(e.separator&&(o=e.separator,isNaN(parseFloat(o))))for(;i.test(n);)n=n.replace(i,"$1"+e.separator+"$2");var o;return e.prefix+n+r+e.suffix},o=a.reactive({localStartVal:e.startVal,displayValue:i(e.startVal),printVal:null,paused:!1,localDuration:e.duration,startTime:null,timestamp:null,remaining:null,rAF:null}),u=a.computed((()=>e.startVal>e.endVal)),s=a=>{o.startTime||(o.startTime=a),o.timestamp=a;const r=a-o.startTime;o.remaining=o.localDuration-r,e.useEasing?u.value?o.printVal=o.localStartVal-l(r,0,o.localStartVal-e.endVal,o.localDuration):o.printVal=l(r,o.localStartVal,e.endVal-o.localStartVal,o.localDuration):u.value?o.printVal=o.localStartVal-(o.localStartVal-e.endVal)*(r/o.localDuration):o.printVal=o.localStartVal+(e.endVal-o.localStartVal)*(r/o.localDuration),u.value?o.printVal=o.printVal<e.endVal?e.endVal:o.printVal:o.printVal=o.printVal>e.endVal?e.endVal:o.printVal,o.displayValue=i(o.printVal),r<o.localDuration?o.rAF=n(s):t.emit("callback")},d=()=>{o.localStartVal=e.startVal,o.startTime=null,o.localDuration=e.duration,o.paused=!1,o.rAF=n(s)},c=()=>{r(o.rAF)},p=()=>{o.startTime=null,o.localDuration=+o.remaining,o.localStartVal=+o.printVal,n(s)};return a.onBeforeUnmount((()=>{r(o.rAF)})),a.onMounted((()=>{e.autoplay&&d(),t.emit("mountedCallback")})),a.watch((()=>e.startVal+e.endVal),(()=>{e.autoplay&&d()})),{countTo:o,start:d,pause:c,resume:p,reset:()=>{o.startTime=null,r(o.rAF),o.displayValue=i(e.startVal)},pauseResume:()=>{o.paused?(p(),o.paused=!1):(c(),o.paused=!0)}}}});i.render=function(e,t,l,n,r,i){return a.openBlock(),a.createBlock("span",null,a.toDisplayString(e.countTo.displayValue),1)},i.__file="packages/count-to/src/count-to.vue",i.install=e=>{e.component(i.name,i)};const o=[i],u=function(e){u.installed||(o.forEach((a=>{e.component(a.name,a)})),u.installed=!0)};var s={install:u};e.CountTo=i,e.default=s,Object.defineProperty(e,"__esModule",{value:!0})}));
