!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).VueCountTo={},e.vue)}(this,(function(e,t){"use strict";var a=t.defineComponent({name:"CountTo",emits:["mountedCallback","callback"],props:{startVal:{type:Number,required:!1,default:0},endVal:{type:Number,required:!1,default:2017},duration:{type:Number,required:!1,default:3e3},autoplay:{type:Boolean,required:!1,default:!0},decimal:{type:String,required:!1,default:"."},decimals:{type:Number,required:!1,default:0,validator:e=>e>=0},separator:{type:String,required:!1,default:","},prefix:{type:String,required:!1,default:""},suffix:{type:String,required:!1,default:""},useEasing:{type:Boolean,required:!1,default:!0},easingFn:{type:Object,required:!1,default:void 0}},setup(e,a){const n=e.easingFn||((e,t,a,n)=>a*(1-Math.pow(2,-10*e/n))*1024/1023+t),o=(t=0,a=0)=>{const n=t.toFixed(a).split(".");let o=n[0];const r=n.length>1?e.decimal+n[1]:"",i=/(\d+)(\d{3})/;if(e.separator&&(u=e.separator,isNaN(parseFloat(u))))for(;i.test(o);)o=o.replace(i,"$1"+e.separator+"$2");var u;return e.prefix+o+r+e.suffix},r=t.ref(o(e.startVal));let i=0,u=0,l=e.duration||3e3,d=e.startVal||0,s=0,c=!1,f=0;const{requestAnimationFrame:m,cancelAnimationFrame:p}=function(){let e=0;const t=["webkit","moz","ms","o"];let a,n;if("undefined"==typeof window)a=function(){return 0},n=function(){};else{let o;a=window.requestAnimationFrame,n=window.cancelAnimationFrame;for(let e=0;e<t.length&&(!a||!n);e++)o=t[e],a=a||window[o+"RequestAnimationFrame"],n=n||window[o+"CancelAnimationFrame"]||window[o+"CancelRequestAnimationFrame"];a&&n||(a=function(t){const a=(new Date).getTime(),n=Math.max(0,16-(a-e)),o=window.setTimeout((()=>{t(a+n)}),n);return e=a+n,o},n=function(e){window.clearTimeout(e)})}return{requestAnimationFrame:a,cancelAnimationFrame:n}}(),y=t.computed((()=>e.startVal>e.endVal)),V=t=>{i||(i=t);const c=t-i;u=l-c,s=e.useEasing?y.value?d-n(c,0,d-e.endVal,l):n(c,d,e.endVal-d,l):y.value?d-(d-e.endVal)*(c/l):d+(e.endVal-d)*(c/l),s=y.value?s<e.endVal?e.endVal:s:s>e.endVal?e.endVal:s,r.value=o(s),c<l?f=m(V):a.emit("callback")},w=()=>{d=e.startVal,i=0,l=e.duration,c=!1,f=m(V)},q=()=>{p(f)},g=()=>{i=0,l=+u,d=+s,m(V)};return t.onBeforeUnmount((()=>{p(f)})),t.onMounted((()=>{e.autoplay&&w(),a.emit("mountedCallback")})),t.watch((()=>e.startVal+e.endVal),(()=>{e.autoplay&&w()})),{displayValue:r,start:w,pause:q,resume:g,reset:()=>{i=0,p(f),r.value=o(e.startVal)},pauseResume:()=>{c?(g(),c=!1):(q(),c=!0)}}}});a.render=function(e,a,n,o,r,i){return t.openBlock(),t.createBlock("span",null,t.toDisplayString(e.displayValue),1)},a.__file="packages/count-to/src/count-to.vue",a.install=e=>{e.component(a.name,a)};const n=[a];var o={install:function(e){n.forEach((t=>{e.component(t.name,t)}))}};e.CountTo=a,e.default=o,Object.defineProperty(e,"__esModule",{value:!0})}));
